function countProfit(shoppers){let listBarang=[["Sepatu Stacattu",15e5,10],["Baju Zoro",5e5,2],["Sweater Uniklooh",175e3,1]];var JSON=[],val=0;for(let i=0;i<listBarang.length;i++)JSON[i]={product:listBarang[i][0],shopper:[],leftOver:listBarang[i][2],totalProfit:0};for(let j=0;j<shoppers.length;j++)"Sepatu Stacattu"==shoppers[j].product?func(val=0,j):"Baju Zoro"==shoppers[j].product?func(val=1,j):"Sweater Uniklooh"==shoppers[j].product&&func(val=2,j);function func(a,b){JSON[a].leftOver-shoppers[b].amount>=0&&(JSON[a].leftOver-=shoppers[b].amount,JSON[a].shopper.push(shoppers[b].name),JSON[a].totalProfit+=listBarang[a][1]*shoppers[b].amount)}return JSON}console.log(countProfit([{name:"Windi",product:"Sepatu Stacattu",amount:2},{name:"Vanessa",product:"Sepatu Stacattu",amount:3},{name:"Rani",product:"Sweater Uniklooh",amount:2}])),console.log(countProfit([{name:"Windi",product:"Sepatu Stacattu",amount:8},{name:"Vanessa",product:"Sepatu Stacattu",amount:10},{name:"Rani",product:"Sweater Uniklooh",amount:1},{name:"Devi",product:"Baju Zoro",amount:1},{name:"Lisa",product:"Baju Zoro",amount:1}])),console.log(countProfit([{name:"Windi",product:"Sepatu Naiki",amount:5}]));